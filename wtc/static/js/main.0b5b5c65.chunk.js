(this["webpackJsonpwork-time-count"]=this["webpackJsonpwork-time-count"]||[]).push([[0],{11:function(e,t,n){e.exports=n(21)},16:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(7),c=n.n(o),i=(n(16),n(4)),l=n(9),s=n.n(l),u=(n(20),n(1)),d=n(10);function f(e){var t=e,n=Math.floor(t/3600);t%=3600;var r=Math.floor(t/60),a=t%60;return"".concat(n,":").concat(r,":").concat(a)}function m(e){console.log(e.data);var t=e.data.map((function(e){return e.start_date})).filter((function(e,t,n){return n.indexOf(e)===t})),n={responsive:!0,plugins:{legend:{position:"top"},tooltip:{callbacks:{footer:function(e){var t=e[0].parsed.y;return"Duration: ".concat(f(t))}}}}},r=t.map((function(t){var n=e.data.filter((function(e){return e.start_date==t})).map((function(e){return function(e){var t=e.split(":"),n=Object(i.a)(t,3);return 60*+n[0]*60+60*+n[1]+ +n[2]}(e.duration)})).reduce((function(e,t){return e+t}),0);return{label:t,seconds:n,flaw:n<28800?28800-n:0,overtime:n>28800?n-28800:0}})),o={labels:t,datasets:[{type:"line",label:"Norm of hours per day",backgroundColor:"yellowgreen",borderColor:"yellowgreen",fill:!0,data:r.map((function(e){return 28800})),pointRadius:0},{label:"Shortage",data:r.map((function(e){return[e.seconds,e.seconds+e.flaw]})),backgroundColor:"red"},{label:"Work time duration",data:r.map((function(e){return[0,e.seconds]})),backgroundColor:"grey"},{label:"Overtimes",data:r.map((function(e){return[e.seconds-e.overtime,e.seconds+e.overtime]})),backgroundColor:"green"}]},c=r.map((function(e){return e.flaw})).reduce((function(e,t){return e+t}),0),l=r.map((function(e){return e.overtime})).reduce((function(e,t){return e+t}),0),s=c-l,u=s<=0;return console.log({allFlaws:c,allOvertimes:l,flawsCompensatedByOvertime:s}),a.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},a.a.createElement("div",{style:{height:32}}),a.a.createElement(d.a,{options:n,data:o,height:"75vh",style:{maxWidth:"1500px"}}),a.a.createElement("div",{style:{height:32}}),a.a.createElement("h4",{style:{color:u?"green":"red"}},"Shortage compensated by overtime:"," ",f(s)," (",s," ","seconds) (",u?"COMPENSATED! \ud83d\udcaa":"NOT COMPENSATED \u2639\ufe0f",")"))}u.e.register(u.i,u.d,u.j,u.b,u.p,u.q,u.l,u.g);var p={header:!0,dynamicTyping:!0,skipEmptyLines:!0,transformHeader:function(e){return e.toLowerCase().replace(/\W/g,"_")}};function g(){var e=a.a.useState(),t=Object(i.a)(e,2),n=t[0],r=t[1];return a.a.createElement("div",{className:"container"},a.a.createElement(s.a,{cssClass:"react-csv-input",label:"Select CSV exported from Toggl Track reports, detailed report for month",onFileLoaded:function(e,t){r(e)},parserOptions:p}),n&&a.a.createElement(m,{data:n}))}c.a.render(a.a.createElement(g,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.0b5b5c65.chunk.js.map