(this["webpackJsonpwork-time-count"]=this["webpackJsonpwork-time-count"]||[]).push([[0],{11:function(e,t,n){e.exports=n(21)},16:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(7),c=n.n(o),i=(n(16),n(4)),l=n(9),u=n.n(l),s=(n(20),n(10));function d(e){var t=e,n=Math.floor(t/3600);t%=3600;var r=Math.floor(t/60),a=t%60;return"".concat(n,":").concat(r,":").concat(a)}function f(e){console.log(e.data);var t=e.data.map((function(e){return e.date})).filter((function(e,t,n){return n.indexOf(e)===t})),n={responsive:!0,plugins:{legend:{position:"top"},tooltip:{callbacks:{footer:function(e){var t=e[0].parsed.y;return"Duration: ".concat(d(t))}}}}},r=t.map((function(t){var n=e.data.filter((function(e){return e.date==t})).map((function(e){return 3600*e.total})).reduce((function(e,t){return e+t}),0),r=n<28800?28800-n:0,a=n>28800?n-28800:0;return console.log({seconds:n,flaw:r,overtime:a,label:t}),{label:t,seconds:n,flaw:r,overtime:a}})),o={labels:t,datasets:[{type:"line",label:"Norm of hours per day",backgroundColor:"yellowgreen",borderColor:"yellowgreen",fill:!0,data:r.map((function(e){return 28800})),pointRadius:0},{label:"Shortage",data:r.map((function(e){return[e.seconds,e.seconds+e.flaw]})),backgroundColor:"red"},{label:"Work time duration",data:r.map((function(e){return[0,e.seconds]})),backgroundColor:"grey"},{label:"Overtimes",data:r.map((function(e){return[e.seconds-e.overtime,e.seconds+e.overtime]})),backgroundColor:"green"}]},c=r.map((function(e){return e.flaw})).reduce((function(e,t){return e+t}),0)-r.map((function(e){return e.overtime})).reduce((function(e,t){return e+t}),0),i=c<=0;return a.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},a.a.createElement("div",{style:{height:32}}),a.a.createElement(s.a,{options:n,data:o,height:"75vh",style:{maxWidth:"1500px"}}),a.a.createElement("div",{style:{height:32}}),a.a.createElement("h4",{style:{color:i?"green":"red"}},"Shortage compensated by overtime:"," ",d(c)," (",c," ","seconds) (",i?"COMPENSATED! \ud83d\udcaa":"NOT COMPENSATED \u2639\ufe0f",")"),a.a.createElement("img",{src:"".concat("/wtc","/cm.png")}))}var m={header:!0,dynamicTyping:!0,skipEmptyLines:!0,transformHeader:function(e){return e.toLowerCase().replace(/\W/g,"_")}};function p(){var e=a.a.useState(),t=Object(i.a)(e,2),n=t[0],r=t[1];return a.a.createElement("div",{className:"container"},a.a.createElement(u.a,{cssClass:"react-csv-input",label:"Select CSV from Taho start end of work (only single user and project)",onFileLoaded:function(e,t){r(e.filter((function(e){return e.start&&e.end})).sort((function(e,t){return new Date(e.date)-new Date(t.date)})))},parserOptions:m}),n&&a.a.createElement(f,{data:n}))}var g=n(1);g.e.register(g.i,g.d,g.j,g.b,g.p,g.q,g.l,g.h,g.g),c.a.render(a.a.createElement(p,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.91e3ea83.chunk.js.map